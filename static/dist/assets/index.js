var E=Object.defineProperty;var _=(i,o,e)=>o in i?E(i,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[o]=e;var p=(i,o,e)=>(_(i,typeof o!="symbol"?o+"":o,e),e);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();const S=()=>{const i=document.querySelectorAll(".accordion li"),o=e=>{var t;(t=e.parentNode)==null||t.querySelectorAll("[aria-selected]").forEach(s=>s.removeAttribute("aria-selected"))};document.querySelectorAll(".accordion li > h3 button").forEach(e=>e.insertAdjacentHTML("beforeend",'<gov-icon key="arrow-down"></gov-icon>')),document.querySelectorAll(".accordion-content").forEach(e=>{const t=`wrapper-${crypto.randomUUID()}`,s=`button-${crypto.randomUUID()}`,r=document.createElement("div"),n=e.parentNode,c=n==null?void 0:n.querySelector("button");r.classList.add("accordion-content-wrapper"),r.setAttribute("id",t),r.setAttribute("role","region"),r.setAttribute("aria-labelledby",s),r==null||r.addEventListener("transitionend",()=>r.setAttribute("style","")),n==null||n.insertBefore(r,e),c==null||c.setAttribute("aria-controls",t),c==null||c.setAttribute("id",s),c==null||c.setAttribute("aria-expanded",new Boolean(c==null?void 0:c.hasAttribute("aria-selected")).toString()),r.appendChild(e)}),i.forEach(e=>{const t=e.querySelector("button"),s=e.querySelector(".accordion-content-wrapper"),r=s==null?void 0:s.querySelector(".accordion-content");t==null||t.addEventListener("click",()=>{const n=t.parentNode;if(n!=null&&n.hasAttribute("aria-selected")){const c=r==null?void 0:r.clientHeight;s==null||s.setAttribute("style",`height:${c}px`),o(e),t.setAttribute("aria-expanded","false")}else{o(e),n.setAttribute("aria-selected","true");const c=r==null?void 0:r.clientHeight;s==null||s.setAttribute("style",`max-height:${c}px`),t.setAttribute("aria-expanded","true")}})})},b=["Show all sections","Hide all sections"];class w extends HTMLDivElement{constructor(){super();p(this,"buttonId");p(this,"sectionId");p(this,"isAllOpen",()=>this.querySelectorAll('.accordion-title[aria-expanded="false"]').length===0);const e=crypto.randomUUID();this.buttonId=`btn-${e}`,this.sectionId=`pnl-${e}`}connectedCallback(){setTimeout(()=>this.setup())}setupPanels(){this.querySelectorAll(".accordion-panel").forEach((e,t)=>{e.setAttribute("role","region"),e.setAttribute("aria-labelledby",this.buttonId+`-${t}`),e.id=this.sectionId+`-${t}`})}setupButtons(){this.querySelectorAll(".accordion-title").forEach((e,t)=>{e.setAttribute("role","button"),e.id=this.buttonId+`-${t}`,e.setAttribute("aria-expanded",String(e.getAttribute("aria-expanded")==="true"||!1)),e.setAttribute("aria-controls",this.sectionId+`-${t}`),e.appendChild(this.createIcon()),e.addEventListener("click",()=>{e.setAttribute("aria-expanded",String(e.getAttribute("aria-expanded")!=="true")),this.isAllOpen()&&this.setShowAllState(!0)})})}setShowAllState(e){const t=this.querySelector(".show-all");t&&(t.setAttribute("aria-expanded",String(e)),t.childNodes[0].nodeValue=e?b[1]:b[0])}createIcon(){const e=document.createElement("gov-icon");return e.setAttribute("key","arrow-down"),e.setAttribute("role","presentation"),e.setAttribute("aria-hidden","true"),e}createShowAll(){const e=document.createElement("button");return e.setAttribute("type","button"),e.setAttribute("class","show-all txt-link small"),e.setAttribute("aria-expanded","false"),e.innerText=b[0],e.addEventListener("click",()=>{const t=e.getAttribute("aria-expanded")==="true"||!1;this.setShowAllState(!t),this.querySelectorAll(".accordion-title").forEach(s=>s.setAttribute("aria-expanded",String(!t)))}),e}setup(){this.setupButtons(),this.setupPanels();const e=this.createShowAll();this.prepend(e)}}const L=()=>customElements.define("idotai-accordion",w,{extends:"div"}),x=()=>{document.querySelectorAll(".card.with-accordion").forEach(i=>{const o=i.querySelector("header"),e=i.querySelector(".content"),t=crypto.randomUUID(),s=`content-${t}`,r=`button-${t}`,n=o==null?void 0:o.getAttribute("aria-expanded"),c=n==="true"||n===null;!o||!e||(o.setAttribute("role","button"),o.setAttribute("aria-expanded",(!!c).toString()),o.setAttribute("aria-controls",s),o.setAttribute("id",r),e.setAttribute("id",s),e.setAttribute("aria-labelledby",r),e.setAttribute("role","region"),o.addEventListener("click",()=>{const u=o.getAttribute("aria-expanded")==="true";o.setAttribute("aria-expanded",String(!u))}))})},q="modulepreload",I=function(i){return"/"+i},g={},a=function(o,e,t){if(!e||e.length===0)return o();const s=document.getElementsByTagName("link");return Promise.all(e.map(r=>{if(r=I(r),r in g)return;g[r]=!0;const n=r.endsWith(".css"),c=n?'[rel="stylesheet"]':"";if(!!t)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===r&&(!n||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${c}`))return;const l=document.createElement("link");if(l.rel=n?"stylesheet":q,n||(l.as="script",l.crossOrigin=""),l.href=r,document.head.appendChild(l),n)return new Promise((d,h)=>{l.addEventListener("load",d),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>o())},T=(i,o)=>{const e=i[o];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((t,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+o)))})};class k extends HTMLElement{constructor(){super();p(this,"newCache");p(this,"enableCache",!0)}connectedCallback(){this.setup()}async getIcon(e){var s,r;if(this.enableCache){const n=await((s=this.newCache)==null?void 0:s.match(e));if(n)return n.text()}const t=(await T(Object.assign({"../../public/svg/add.svg":()=>a(()=>import("./add.js"),[]),"../../public/svg/arrow-down.svg":()=>a(()=>import("./arrow-down.js"),[]),"../../public/svg/arrow-up.svg":()=>a(()=>import("./arrow-up.js"),[]),"../../public/svg/calendar.svg":()=>a(()=>import("./calendar.js"),[]),"../../public/svg/chevron-down.svg":()=>a(()=>import("./chevron-down.js"),[]),"../../public/svg/crest.svg":()=>a(()=>import("./crest.js"),[]),"../../public/svg/cross.svg":()=>a(()=>import("./cross.js"),[]),"../../public/svg/error.svg":()=>a(()=>import("./error.js"),[]),"../../public/svg/help.svg":()=>a(()=>import("./help.js"),[]),"../../public/svg/logo.svg":()=>a(()=>import("./logo.js"),[]),"../../public/svg/menu.svg":()=>a(()=>import("./menu.js"),[]),"../../public/svg/new-tab.svg":()=>a(()=>import("./new-tab.js"),[]),"../../public/svg/pencil.svg":()=>a(()=>import("./pencil.js"),[]),"../../public/svg/search.svg":()=>a(()=>import("./search.js"),[]),"../../public/svg/success.svg":()=>a(()=>import("./success.js"),[]),"../../public/svg/tick.svg":()=>a(()=>import("./tick.js"),[]),"../../public/svg/warning.svg":()=>a(()=>import("./warning.js"),[])}),`../../public/svg/${e}.svg`)).default;return this.enableCache&&((r=this.newCache)==null||r.put(e,new Response(t,{headers:{"Content-Type":"image/svg+xml"}}))),t}async setup(){this.newCache=await caches.open("new-cache");const e=this.getAttribute("key");e&&(this.innerHTML=await this.getIcon(e))}}const O=()=>{customElements.define("gov-icon",k)};class C extends HTMLDivElement{constructor(){super();p(this,"setHasValue",e=>{const t=e==null?void 0:e.parentNode,{value:s}=e,r="has-value";return s?t==null?void 0:t.classList.add(r):t==null?void 0:t.classList.remove(r)})}connectedCallback(){this.setup()}setup(){const e=this.querySelector("select");this.setHasValue(e),e.addEventListener("change",t=>this.setHasValue(t.target))}}const R=()=>customElements.define("select-field",C,{extends:"div"});const f=(i,o)=>{var t;const e=i.closest("form");e&&((t=e.querySelector('input[type="hidden"][name="active_filter"]'))==null||t.setAttribute("value",o||""),e.submit())},V=i=>{i.querySelectorAll('button[type="reset"]').forEach(o=>{o.addEventListener("click",()=>{var t;const e=i.querySelectorAll("input[type=checkbox][name]:checked");e.forEach(s=>{s.removeAttribute("checked"),s.checked=!1}),f(i,(t=e[0])==null?void 0:t.name)})})},P=i=>{i.querySelectorAll("input[data-controls]").forEach(o=>{o.addEventListener("keyup",()=>{const e=o.value.toLowerCase(),{controls:t}=o.dataset;i.querySelectorAll(`input[type=checkbox][name=${t}][value]`).forEach(s=>{var n;const r=s.closest(".checkbox");r&&((n=r==null?void 0:r.textContent)!=null&&n.toLowerCase().includes(e)?r.style.display="":r.style.display="none")})})})},D=i=>{i.querySelectorAll('input[type="checkbox"]').forEach(o=>{o.addEventListener("change",()=>{const{name:e}=o;f(i,e)})})},H=()=>{document.querySelectorAll(".filter-control").forEach(i=>{V(i),D(i),P(i)})};function M(i,o=!1,e=0,t){const s=i.getBoundingClientRect();if(o&&s.top>=0&&s.bottom<=window.innerHeight){t&&t();return}if(t){let r=window.pageYOffset,n=!1;const c=()=>{window.pageYOffset===r?(n=!1,t()):(r=window.pageYOffset,requestAnimationFrame(c))},u=()=>{n||(n=!0,requestAnimationFrame(c))};window.addEventListener("scroll",u)}window.scrollTo({top:s.top+window.pageYOffset-e,behavior:"smooth"})}const $=()=>{document.querySelectorAll('input[type="number"]').forEach(o=>{o.addEventListener("input",e=>{const t=e.target,s=t.getAttribute("maxlength");s&&t.value.length>Number(s)&&(t.value=t.value.slice(0,Number(s)))})})},N=()=>{document.querySelectorAll("a.smooth-scroll").forEach(i=>{i.addEventListener("click",o=>{var s;o.preventDefault();const e=(s=o.target)==null?void 0:s.getAttribute("href"),t=e&&document.querySelector(e);t&&(t.classList.remove("scrolled"),t.classList.add("scrolling"),M(t,!0,16,()=>{t.classList.remove("scrolling"),t.classList.add("scrolled")}))})})},v=i=>{var o,e;i?(o=document.querySelector("body"))==null||o.classList.add("darken"):(e=document.querySelector("body"))==null||e.classList.remove("darken"),document.getElementById("main-header-mobile-menu").setAttribute("aria-expanded",(!!i).toString())},B=()=>v(!1),F=()=>{var i;(i=document.getElementById("main-header-mobile-menu"))==null||i.addEventListener("click",o=>v(o.currentTarget.getAttribute("aria-expanded")!=="true"))};class U extends HTMLElement{constructor(){super()}connectedCallback(){this.setAttribute("hidden","true"),setTimeout(()=>this.setup())}setup(){const o=crypto.randomUUID(),e=`content_${o}`,t=`button_${o}`,s=this.querySelector(".content");if(!s)return;const r=document.createElement("button");r.setAttribute("id",t),r.classList.add("txt-link"),r.setAttribute("type","button"),r.setAttribute("aria-expanded",this.dataset.open||"false"),r.setAttribute("aria-controls",e),r.innerHTML='<gov-icon key="help"></gov-icon>'+(this.getAttribute("aria-label")||"Hint"),r.addEventListener("click",()=>{const u=r.getAttribute("aria-expanded")==="true";r.setAttribute("aria-expanded",String(!u))}),this.prepend(r);const n=document.createElement("div"),c=s.parentNode;n.classList.add("content-wrapper"),n.setAttribute("id",e),n.setAttribute("aria-labelledby",t),n.setAttribute("role","region"),c==null||c.insertBefore(n,s),n.appendChild(s),this.removeAttribute("hidden")}}const Y=()=>customElements.define("hint-box",U);class j extends HTMLDivElement{constructor(){super();p(this,"multiValues",[])}connectedCallback(){setTimeout(()=>this.setup())}createTag(e){const t=document.createElement("div");t.classList.add("chip"),t.innerHTML=e.text;const s=document.createElement("gov-icon");return s.classList.add("close"),s.setAttribute("key","cross"),s.setAttribute("role","button"),s.addEventListener("click",()=>this.multiRemove(e),!0),t.appendChild(s),t}createMuliSelect(){const e=document.createElement("selectmenu"),t=this.querySelector("select");Array.from((t==null?void 0:t.attributes)||[]).forEach(c=>{e.setAttribute(c.nodeName==="id"?"data-id":c.nodeName,(c==null?void 0:c.nodeValue)||"")});const s=(t==null?void 0:t.querySelectorAll("option"))||[],r=document.createElement("div");r.setAttribute("slot","button"),r.setAttribute("behavior","button"),e.prepend(r),s.forEach(c=>{c.selected&&this.multiAdd({value:c.value,text:c.innerText}),e.appendChild(c.cloneNode(!0))});const n=document.createElement("div");return n.setAttribute("slot","selected-value"),n.setAttribute("behavior","selected-value"),e.appendChild(n),e.addEventListener("click",c=>{var d;const u=(d=c.target)==null?void 0:d.closest("option");if(!u)return;const l={value:u.value,text:u.text};this.multiValues.find(({value:h})=>h===l.value)?this.multiRemove(l):this.multiAdd(l)}),e}multiAdd(e){this.multiValues.push(e),this.multiRefreshSelectedValues(),this.multiRefreshOptions()}multiRemove(e){this.multiValues=this.multiValues.filter(({value:t})=>t!==e.value),this.multiRefreshSelectedValues(),this.multiRefreshOptions()}multiRefreshSelectedValues(){const e=this.querySelector(".selected-values");e&&(e.innerHTML="",this.multiValues.forEach(t=>e.appendChild(this.createTag(t))))}multiRefreshOptions(){var r;const e=this.querySelector("selectmenu"),t=e&&e.querySelectorAll("option")||[],s=((r=this.querySelector("select"))==null?void 0:r.querySelectorAll("option"))||[];t.forEach((n,c)=>{this.multiValues.find(({value:u})=>u===n.value)?(n.setAttribute("selected",""),s[c].setAttribute("selected","")):(n.removeAttribute("selected"),s[c].removeAttribute("selected"))})}setup(){var t;const e=document.createElement("div");e.classList.add("selected-values"),(t=this.querySelector("select"))==null||t.setAttribute("hidden",""),this.prepend(this.createMuliSelect()),this.prepend(e),this.multiRefreshSelectedValues(),this.multiRefreshOptions()}}const z=()=>customElements.define("multi-select",j,{extends:"div"});function G(i){return Array.isArray(i)?i.every(o=>typeof o=="object"&&typeof o.color=="string"&&typeof o.percentage=="number"&&o.percentage>=0&&o.percentage<=100):!1}function W(i,o){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 100 100"),e.classList.add("progress-bar");const t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx","50"),t.setAttribute("cy","50"),t.setAttribute("r","40"),t.classList.add("progress-bar-background"),e.appendChild(t);const s=o.reduce((c,u)=>c+u.percentage,0);let r=0;o.forEach(c=>{let u=-90-s/2*1.5-60;const l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("cx","50"),l.setAttribute("cy","50"),l.setAttribute("r","40"),l.classList.add("progress-bar-foreground"),l.style.stroke=c.color,l.style.strokeDasharray="0",l.style.strokeDashoffset="0",l.style.transformOrigin="50% 50%",l.style.transform=`rotate(${r*360/100+u}deg)`,e.appendChild(l);const d=l.getAttribute("r");if(typeof d=="string"){const h=parseFloat(d),m=2*Math.PI*h,y=m*(1-c.percentage/100);l.style.strokeDasharray=`${m} ${m}`,l.style.strokeDashoffset=y.toString()}else console.error("Failed to retrieve the radius attribute from the progressCircle element");r+=c.percentage});const n=document.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("x","50"),n.setAttribute("y","11"),n.setAttribute("width","2"),n.setAttribute("height","25"),n.style.fill="var(--color-purple)",n.style.transformOrigin="50% 50%",n.style.transform="rotate(160deg) translateY(-14%)",e.appendChild(n),i.appendChild(e)}const J=()=>{document.querySelectorAll(".circular-progress-bar").forEach(o=>{try{const e=JSON.parse(o.getAttribute("data-segments")||"null");G(e)?W(o,e):console.error("Invalid data-segments attribute:",o.getAttribute("data-segments"))}catch(e){e instanceof Error?console.error("Failed to parse data-segments:",e.message):console.error("Failed to parse data-segments:",e)}})},A=()=>globalThis.devMode&&globalThis.devMode&&!0;(function(){A()||(O(),Y(),R(),z(),L())})();window.addEventListener("load",()=>{A()||(S(),x(),H(),N(),F(),J(),$())});window.addEventListener("DOMContentLoaded",()=>{const i=window.matchMedia("(min-width: 800px)"),o=()=>{i.matches&&B()};i.addEventListener("change",o)});
